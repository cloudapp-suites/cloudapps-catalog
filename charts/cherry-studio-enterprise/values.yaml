global:
  imagePullPolicy: IfNotPresent

app:
  enabled: true
  replicaCount: 2

  image:
    repository: cherrystudio/cherry-studio-enterprise-api

  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 10

  env:
    API_PORT: 3670
    ADMIN_PORT: 3680
    API_URL: "YOUR_API_URL"
    ADMIN_APP_NAME: Cherry Studio
    ADMIN_APP_LOGO_URL: https://raw.gitcode.com/CherryHQ/cherry-studio-enterprise/blobs/76b5582ee5ec1e1be7ac984eb9369640303acf35/logo.webp
    ADMIN_BASE_PATH: /
    JWT_SECRET: "YOUR_JWT_SECRET"
    DB_HOST: "YOUR_DB_HOST"
    DB_PORT: "YOUR_DB_PORT"
    DB_USERNAME: "YOUR_DB_USERNAME"
    DB_PASSWORD: "YOUR_DB_PASSWORD"
    DB_NAME: "YOUR_DB_NAME"
    DB_TYPE: postgres
    DB_SSL: false

  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    size: 50Gi
    mountPath: /app/data

  api:
    service:
      type: ClusterIP
      port: 3670
      targetPort: 3670
    ingress:
      enabled: true
      annotations:
        nginx.ingress.kubernetes.io/proxy-body-size: "20m"
      hosts:
        - host: "YOUR_API_URL"
          paths:
            - path: /
              pathType: ImplementationSpecific

  admin:
    service:
      type: ClusterIP
      port: 3680
      targetPort: 3680
    ingress:
      enabled: true
      annotations:
        nginx.ingress.kubernetes.io/proxy-body-size: "20m"
      hosts:
        - host: "YOUR_ADMIN_URL"
          paths:
            - path: /
              pathType: ImplementationSpecific

  resources:
    limits:
      cpu: 4000m
      memory: 8000Mi
    requests:
      cpu: 2000m
      memory: 4000Mi

  livenessProbe:
    httpGet:
      path: /
      port: api
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /
      port: api
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3
