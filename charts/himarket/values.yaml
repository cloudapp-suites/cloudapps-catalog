hub: opensource-registry.cn-hangzhou.cr.aliyuncs.com/higress-group

frontend:
  image:
    repository: himarket-frontend
    tag: "1.0.0"
    pullPolicy: Always
  service:
    type: LoadBalancer
    port: 80
  replicaCount: 1
  serverPort: 8000

admin:
  image:
    repository: himarket-admin
    tag: "1.0.0"
    pullPolicy: Always
  service:
    type: LoadBalancer
    port: 80
  replicaCount: 1
  serverPort: 8000

server:
  image:
    repository: himarket-server
    tag: "1.0.0"
    pullPolicy: Always
  service:
    type: ClusterIP
    port: 80
  replicaCount: 1
  serverPort: 8080

# MySQL 数据库配置
mysql:
  # 使用内置的 MySQL
  enabled: true
  image:
    repository: mysql
    tag: "1.0.0"
    pullPolicy: Always
  
  # 数据库配置
  auth:
    database: "himarket_db"
    username: "himarket_user"
    # 可选：设置固定密码（留空则自动生成随机密码）
    rootPassword: ""  # 设置root密码，如 "myRootPass123"
    password: ""      # 设置应用用户密码，如 "myAppPass123"
  
  # Service 配置
  service:
    external:
      enabled: false  # 建议生产环境设为 false
      type: LoadBalancer
  
  # 存储配置
  persistence:
    storageClass: cloudapp.storageClassName  # 根据实际环境调整
    size: 50Gi
    accessMode: ReadWriteOnce
  
  # 资源配置
  resources:
    requests:
      cpu: "1"
      memory: "1Gi"
    limits:
      cpu: "2"
      memory: "2Gi"
  
  # StatefulSet 副本数
  replicaCount: 1

# 外部数据库配置（当 mysql.enabled=false 时使用）
database:
  host: "Your_External_DB_Host"  # 外部数据库地址
  port: "3306"
  name: "Your_DB_Name"
  username: "Your_DB_Username"
  password: "Your_DB_Password"

serviceAccount:
  name: "himarket"

resources:
  limits:
    cpu: 2
    memory: 2000Mi
  requests:
    cpu: 1
    memory: 1000Mi