apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "dify.fullname" . }}-sandbox-config
  labels:
    {{- include "dify.labels" . | nindent 4 }}
    app.kubernetes.io/component: sandbox
data:
  config.yaml: |
    app:
      port: {{ .Values.sandbox.service.port }}
      debug: false
      key: dify-sandbox
    max_workers: 4
    max_requests: 50
    worker_timeout: 15
    python_path: /usr/local/bin/python3
    enable_network: true
    proxy:
      http: http://{{ include "dify.fullname" . }}-ssrf-proxy:{{ .Values.ssrfProxy.service.port }}
      https: http://{{ include "dify.fullname" . }}-ssrf-proxy:{{ .Values.ssrfProxy.service.port }}